# =========================================================================
#     This makefile was generated by
#     Bakefile 0.2.9 (http://www.bakefile.org)
#     Do not modify, all changes will be overwritten!
# =========================================================================



# -------------------------------------------------------------------------
# These are configurable options:
# -------------------------------------------------------------------------

#  
AR ?= ar

#  
RANLIB ?= ranlib

# C++ compiler 
CXX = g++

# Standard flags for C++ 
CXXFLAGS ?= 

# Standard preprocessor flags (common for CC and CXX) 
CPPFLAGS ?= 

# Standard linker flags 
LDFLAGS ?= 

# Type of compiled binaries [debug,release]
BUILD ?= debug



# -------------------------------------------------------------------------
# Do not modify the rest of this file!
# -------------------------------------------------------------------------

### Variables: ###

CPPDEPS = -MT$@ -MF`echo $@ | sed -e 's,\.o$$,.d,'` -MD -MP

ISNTEST_CXXFLAGS = $(__DEBUGINFO) $(__OPTIMIZE_FLAG) -Ilib -I/usr/include/mysql \
	-I/usr/include/mysql++ $(CPPFLAGS) $(CXXFLAGS)
ISNTEST_OBJECTS =  \
	isntest_isntest.o
ISNINTER_CXXFLAGS = $(__DEBUGINFO) $(__OPTIMIZE_FLAG) -Ilib -I/usr/include/mysql \
	-I/usr/include/mysql++ $(CPPFLAGS) $(CXXFLAGS)
ISNINTER_OBJECTS =  \
	isninter_isninter.o

### Conditionally set variables: ###

ifeq ($(BUILD),debug)
__OPTIMIZE_FLAG = -O0
endif
ifeq ($(BUILD),release)
__OPTIMIZE_FLAG = -O2
endif
ifeq ($(BUILD),debug)
__DEBUGINFO = -g
endif
ifeq ($(BUILD),release)
__DEBUGINFO = 
endif


### Targets: ###

all: libmysqlpp_excommon.a isntest isninter

install: 

uninstall: 

clean: 
	rm -f ./*.o
	rm -f ./*.d
	rm -f libmysqlpp_excommon.a
	rm -f isntest
	rm -f isninter

libmysqlpp_excommon.a: $(EXCOMMON_OBJECTS)
	rm -f $@
	$(AR) rcu $@ $(EXCOMMON_OBJECTS)
	$(RANLIB) $@

isntest: $(ISNTEST_OBJECTS) libmysqlpp_excommon.a
	$(CXX) -o $@ $(ISNTEST_OBJECTS)   $(__DEBUGINFO) -L. $(LDFLAGS)  -lmysqlpp_excommon -lmysqlpp -lmysqlclient

isninter: $(ISNINTER_OBJECTS) libmysqlpp_excommon.a
	$(CXX) -o $@ $(ISNINTER_OBJECTS)   $(__DEBUGINFO) -L. $(LDFLAGS)  -lmysqlpp_excommon -lmysqlpp -lmysqlclient

isninter_isninter.o: ./examples/isninter.cpp
	$(CXX) -c -o $@ $(ISNTEST_CXXFLAGS) $(CPPDEPS) $<

isntest_isntest.o: ./examples/isntest.cpp
	$(CXX) -c -o $@ $(ISNTEST_CXXFLAGS) $(CPPDEPS) $<

.PHONY: all install uninstall clean

# Dependencies tracking:
-include ./*.d
